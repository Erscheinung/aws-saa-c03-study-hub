<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>AWS SAA-C03 Global Mind Map</title>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0a0e17;
            --bg-card: #1a2332;
            --accent-orange: #ff6b35;
            --accent-blue: #4facfe;
            --text-primary: #f8fafc;
            --text-secondary: #94a3b8;
            --compute: #ef4444;
            --storage: #3b82f6;
            --database: #8b5cf6;
            --network: #10b981;
            --security: #f59e0b;
            --integration: #ec4899;
            --analytics: #06b6d4;
            --management: #84cc16;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Space Grotesk', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            overflow: hidden;
            height: 100vh;
        }

        /* Controls */
        .controls {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .control-btn {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            border: 2px solid var(--accent-orange);
            background: var(--bg-primary);
            color: var(--accent-orange);
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .control-btn:hover {
            background: var(--accent-orange);
            color: var(--bg-primary);
        }

        .back-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            padding: 12px 24px;
            border-radius: 30px;
            border: 2px solid var(--accent-blue);
            background: var(--bg-primary);
            color: var(--accent-blue);
            font-family: inherit;
            font-size: 1rem;
            cursor: pointer;
            text-decoration: none;
            transition: all 0.2s;
        }

        .back-btn:hover {
            background: var(--accent-blue);
            color: var(--bg-primary);
        }

        /* Zoom Level Display */
        .zoom-level {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: var(--bg-card);
            padding: 10px 20px;
            border-radius: 30px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            z-index: 1000;
        }

        /* View Mode Toggle */
        .view-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            display: flex;
            gap: 10px;
            z-index: 1000;
        }

        .toggle-btn {
            padding: 10px 20px;
            border-radius: 30px;
            border: 2px solid var(--accent-orange);
            background: transparent;
            color: var(--accent-orange);
            font-family: inherit;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .toggle-btn.active {
            background: var(--accent-orange);
            color: var(--bg-primary);
        }

        /* Legend */
        .legend {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
            z-index: 1000;
            background: rgba(10,14,23,0.95);
            padding: 12px 24px;
            border-radius: 30px;
            border: 1px solid var(--accent-orange);
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.8rem;
        }

        .legend-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        /* Map Container */
        #mapContainer {
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            cursor: grab;
            position: relative;
        }

        #mapContainer:active {
            cursor: grabbing;
        }

        #map {
            position: absolute;
            width: 3200px;
            height: 2400px;
            transform-origin: center center;
        }

        /* SVG Connections */
        .connections {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .connection-line {
            stroke-width: 3;
            fill: none;
            opacity: 0.6;
        }

        .connection-line.compute { stroke: var(--compute); }
        .connection-line.storage { stroke: var(--storage); }
        .connection-line.database { stroke: var(--database); }
        .connection-line.network { stroke: var(--network); }
        .connection-line.security { stroke: var(--security); }
        .connection-line.integration { stroke: var(--integration); }
        .connection-line.analytics { stroke: var(--analytics); }
        .connection-line.management { stroke: var(--management); }
        .connection-line.central { stroke: var(--accent-orange); stroke-width: 4; }

        /* Nodes */
        .node {
            position: absolute;
            background: var(--bg-card);
            border-radius: 50%;
            width: 90px;
            height: 90px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border: 3px solid;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .node:hover {
            transform: scale(1.15);
            z-index: 100;
            box-shadow: 0 0 30px rgba(255,255,255,0.2);
        }

        .node.expanded {
            width: 200px;
            height: auto;
            min-height: 90px;
            border-radius: 20px;
            padding: 15px;
        }

        .node-icon {
            font-size: 1.8rem;
        }

        .node-title {
            font-weight: 600;
            font-size: 0.75rem;
            margin-top: 4px;
            line-height: 1.2;
        }

        .node.expanded .node-title {
            font-size: 0.9rem;
        }

        .node-subtitle {
            font-size: 0.6rem;
            color: var(--text-secondary);
            display: none;
        }

        .node.expanded .node-subtitle {
            display: block;
            margin-top: 4px;
        }

        .node-details {
            display: none;
            margin-top: 10px;
            text-align: left;
            font-size: 0.75rem;
            width: 100%;
        }

        .node.expanded .node-details {
            display: block;
        }

        .node-detail-item {
            margin: 4px 0;
            color: var(--text-secondary);
        }

        .node-limit {
            color: var(--accent-orange);
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.7rem;
        }

        /* Category Colors */
        .node.compute { border-color: var(--compute); }
        .node.storage { border-color: var(--storage); }
        .node.database { border-color: var(--database); }
        .node.network { border-color: var(--network); }
        .node.security { border-color: var(--security); }
        .node.integration { border-color: var(--integration); }
        .node.analytics { border-color: var(--analytics); }
        .node.management { border-color: var(--management); }

        .node.compute:hover { box-shadow: 0 0 30px var(--compute); }
        .node.storage:hover { box-shadow: 0 0 30px var(--storage); }
        .node.database:hover { box-shadow: 0 0 30px var(--database); }
        .node.network:hover { box-shadow: 0 0 30px var(--network); }
        .node.security:hover { box-shadow: 0 0 30px var(--security); }
        .node.integration:hover { box-shadow: 0 0 30px var(--integration); }
        .node.analytics:hover { box-shadow: 0 0 30px var(--analytics); }
        .node.management:hover { box-shadow: 0 0 30px var(--management); }

        /* Central Hub */
        .central-hub {
            position: absolute;
            left: 1555px;
            top: 1155px;
            width: 130px;
            height: 130px;
            background: linear-gradient(135deg, var(--accent-orange), var(--accent-blue));
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            font-weight: 700;
            text-align: center;
            box-shadow: 0 0 60px rgba(255,107,53,0.5);
            z-index: 50;
            cursor: pointer;
            transition: all 0.3s;
        }

        .central-hub:hover {
            transform: scale(1.1);
            box-shadow: 0 0 80px rgba(255,107,53,0.7);
        }

        /* Category Labels */
        .category-label {
            position: absolute;
            font-size: 1rem;
            font-weight: 700;
            padding: 8px 16px;
            border-radius: 20px;
            background: var(--bg-card);
            border: 2px solid;
            z-index: 10;
        }

        .category-label.compute { border-color: var(--compute); color: var(--compute); }
        .category-label.storage { border-color: var(--storage); color: var(--storage); }
        .category-label.database { border-color: var(--database); color: var(--database); }
        .category-label.network { border-color: var(--network); color: var(--network); }
        .category-label.security { border-color: var(--security); color: var(--security); }
        .category-label.integration { border-color: var(--integration); color: var(--integration); }
        .category-label.analytics { border-color: var(--analytics); color: var(--analytics); }
        .category-label.management { border-color: var(--management); color: var(--management); }

        /* Instructions popup */
        .instructions {
            position: fixed;
            bottom: 80px;
            right: 20px;
            background: var(--bg-card);
            padding: 15px 20px;
            border-radius: 12px;
            font-size: 0.85rem;
            z-index: 1000;
            max-width: 250px;
            border: 1px solid var(--accent-orange);
        }

        .instructions h4 {
            color: var(--accent-orange);
            margin-bottom: 8px;
        }

        .instructions p {
            color: var(--text-secondary);
            margin: 4px 0;
        }

        /* Mobile adjustments */
        @media (max-width: 768px) {
            .legend { display: none; }
            .instructions { display: none; }

            .controls {
                top: auto;
                bottom: 20px;
                left: 50%;
                transform: translateX(-50%);
                flex-direction: row;
            }

            .control-btn {
                width: 45px;
                height: 45px;
            }

            .view-toggle {
                top: 80px;
                bottom: auto;
                right: 20px;
            }

            .zoom-level { display: none; }
        }
    </style>
</head>
<body>
    <div class="controls">
        <button class="control-btn" onclick="zoomIn()" title="Zoom In">+</button>
        <button class="control-btn" onclick="zoomOut()" title="Zoom Out">-</button>
        <button class="control-btn" onclick="centerView()" title="Center View">&#x2302;</button>
    </div>

    <a href="../index.html" class="back-btn">&#x2190; Back to Hub</a>

    <div class="legend">
        <div class="legend-item"><div class="legend-dot" style="background: var(--compute)"></div> Compute</div>
        <div class="legend-item"><div class="legend-dot" style="background: var(--storage)"></div> Storage</div>
        <div class="legend-item"><div class="legend-dot" style="background: var(--database)"></div> Database</div>
        <div class="legend-item"><div class="legend-dot" style="background: var(--network)"></div> Network</div>
        <div class="legend-item"><div class="legend-dot" style="background: var(--security)"></div> Security</div>
        <div class="legend-item"><div class="legend-dot" style="background: var(--integration)"></div> Integration</div>
        <div class="legend-item"><div class="legend-dot" style="background: var(--analytics)"></div> Analytics</div>
        <div class="legend-item"><div class="legend-dot" style="background: var(--management)"></div> Management</div>
    </div>

    <div class="zoom-level" id="zoomLevel">Zoom: 100%</div>

    <div class="view-toggle">
        <button class="toggle-btn active" onclick="setView('full')">Full View</button>
        <button class="toggle-btn" onclick="setView('minimal')">Minimal</button>
    </div>

    <div class="instructions">
        <h4>Controls</h4>
        <p>&#x2022; Drag to pan</p>
        <p>&#x2022; Scroll to zoom</p>
        <p>&#x2022; Click node to expand</p>
        <p>&#x2022; Pinch to zoom (mobile)</p>
    </div>

    <div id="mapContainer">
        <div id="map">
            <svg class="connections" id="connections">
                <!-- Central to Category connections -->
                <path class="connection-line central" d="M1620,1220 Q1500,1100 1350,950" />
                <path class="connection-line central" d="M1620,1220 Q1750,1100 1900,950" />
                <path class="connection-line central" d="M1620,1220 Q1750,1350 1900,1500" />
                <path class="connection-line central" d="M1620,1220 Q1500,1350 1350,1500" />
                <path class="connection-line central" d="M1555,1220 L1200,1220" />
                <path class="connection-line central" d="M1685,1220 L2050,1220" />
                <path class="connection-line central" d="M1620,1155 L1620,850" />
                <path class="connection-line central" d="M1620,1285 L1620,1600" />

                <!-- Compute branch -->
                <path class="connection-line compute" d="M1200,800 L1050,800" />
                <path class="connection-line compute" d="M1200,800 L1200,700" />
                <path class="connection-line compute" d="M1200,800 L1200,900" />
                <path class="connection-line compute" d="M1050,800 L950,700" />
                <path class="connection-line compute" d="M1050,800 L950,900" />
                <path class="connection-line compute" d="M1200,900 L1100,1000" />

                <!-- Storage branch -->
                <path class="connection-line storage" d="M2050,800 L2200,800" />
                <path class="connection-line storage" d="M2050,800 L2050,700" />
                <path class="connection-line storage" d="M2050,800 L2050,900" />
                <path class="connection-line storage" d="M2200,800 L2300,700" />
                <path class="connection-line storage" d="M2200,800 L2300,900" />

                <!-- Database branch -->
                <path class="connection-line database" d="M2050,1500 L2200,1500" />
                <path class="connection-line database" d="M2050,1500 L2050,1400" />
                <path class="connection-line database" d="M2050,1500 L2050,1600" />
                <path class="connection-line database" d="M2200,1500 L2300,1400" />
                <path class="connection-line database" d="M2200,1500 L2300,1600" />

                <!-- Network branch -->
                <path class="connection-line network" d="M1200,1500 L1050,1500" />
                <path class="connection-line network" d="M1200,1500 L1200,1400" />
                <path class="connection-line network" d="M1200,1500 L1200,1600" />
                <path class="connection-line network" d="M1050,1500 L950,1400" />
                <path class="connection-line network" d="M1050,1500 L950,1600" />

                <!-- Security branch (left) -->
                <path class="connection-line security" d="M1100,1220 L900,1220" />
                <path class="connection-line security" d="M900,1220 L750,1120" />
                <path class="connection-line security" d="M900,1220 L750,1320" />
                <path class="connection-line security" d="M750,1120 L600,1050" />
                <path class="connection-line security" d="M750,1320 L600,1390" />

                <!-- Integration branch (right) -->
                <path class="connection-line integration" d="M2150,1220 L2350,1220" />
                <path class="connection-line integration" d="M2350,1220 L2500,1120" />
                <path class="connection-line integration" d="M2350,1220 L2500,1320" />
                <path class="connection-line integration" d="M2500,1120 L2650,1050" />
                <path class="connection-line integration" d="M2500,1320 L2650,1390" />

                <!-- Analytics branch (bottom) -->
                <path class="connection-line analytics" d="M1620,1700 L1500,1800" />
                <path class="connection-line analytics" d="M1620,1700 L1740,1800" />
                <path class="connection-line analytics" d="M1500,1800 L1400,1900" />
                <path class="connection-line analytics" d="M1740,1800 L1840,1900" />

                <!-- Management branch (top) -->
                <path class="connection-line management" d="M1620,750 L1500,650" />
                <path class="connection-line management" d="M1620,750 L1740,650" />
                <path class="connection-line management" d="M1500,650 L1400,550" />
                <path class="connection-line management" d="M1740,650 L1840,550" />
            </svg>

            <!-- Central Hub -->
            <div class="central-hub" id="centralHub">
                <div style="font-size: 2rem;">&#x2601;</div>
                <div>AWS</div>
                <div style="font-size: 0.8rem; font-weight: 400;">SAA-C03</div>
            </div>

            <!-- Category Labels -->
            <div class="category-label compute" style="left: 1050px; top: 650px;">COMPUTE</div>
            <div class="category-label storage" style="left: 2050px; top: 650px;">STORAGE</div>
            <div class="category-label database" style="left: 2050px; top: 1350px;">DATABASE</div>
            <div class="category-label network" style="left: 1050px; top: 1350px;">NETWORK</div>
            <div class="category-label security" style="left: 550px; top: 950px;">SECURITY</div>
            <div class="category-label integration" style="left: 2500px; top: 950px;">INTEGRATION</div>
            <div class="category-label analytics" style="left: 1550px; top: 1950px;">ANALYTICS</div>
            <div class="category-label management" style="left: 1550px; top: 450px;">MANAGEMENT</div>

            <!-- COMPUTE NODES -->
            <div class="node compute" id="ec2" style="left: 1155px; top: 755px;">
                <div class="node-icon">&#x1F5A5;</div>
                <div class="node-title">EC2</div>
                <div class="node-subtitle">Elastic Compute</div>
                <div class="node-details">
                    <div class="node-detail-item">Instance types: T, M, C, R, X</div>
                    <div class="node-detail-item"><span class="node-limit">Spot: up to 90% off</span></div>
                </div>
            </div>

            <div class="node compute" id="lambda" style="left: 1155px; top: 655px;">
                <div class="node-icon">&#x03BB;</div>
                <div class="node-title">Lambda</div>
                <div class="node-subtitle">Serverless</div>
                <div class="node-details">
                    <div class="node-detail-item"><span class="node-limit">Timeout: 15 min</span></div>
                    <div class="node-detail-item"><span class="node-limit">Memory: 10GB max</span></div>
                </div>
            </div>

            <div class="node compute" id="ecs" style="left: 1155px; top: 855px;">
                <div class="node-icon">&#x1F433;</div>
                <div class="node-title">ECS</div>
                <div class="node-subtitle">Containers</div>
                <div class="node-details">
                    <div class="node-detail-item">EC2 or Fargate launch</div>
                </div>
            </div>

            <div class="node compute" id="eks" style="left: 905px; top: 655px;">
                <div class="node-icon">&#x2638;</div>
                <div class="node-title">EKS</div>
                <div class="node-subtitle">Kubernetes</div>
                <div class="node-details">
                    <div class="node-detail-item">Managed K8s control plane</div>
                </div>
            </div>

            <div class="node compute" id="fargate" style="left: 905px; top: 855px;">
                <div class="node-icon">&#x1F680;</div>
                <div class="node-title">Fargate</div>
                <div class="node-subtitle">Serverless</div>
                <div class="node-details">
                    <div class="node-detail-item">No EC2 management</div>
                </div>
            </div>

            <div class="node compute" id="beanstalk" style="left: 1005px; top: 755px;">
                <div class="node-icon">&#x1F331;</div>
                <div class="node-title">Beanstalk</div>
                <div class="node-subtitle">PaaS</div>
                <div class="node-details">
                    <div class="node-detail-item">Automated deployment</div>
                </div>
            </div>

            <div class="node compute" id="asg" style="left: 1055px; top: 955px;">
                <div class="node-icon">&#x1F4C8;</div>
                <div class="node-title">ASG</div>
                <div class="node-subtitle">Auto Scaling</div>
                <div class="node-details">
                    <div class="node-detail-item">Target, Step, Scheduled</div>
                </div>
            </div>

            <!-- STORAGE NODES -->
            <div class="node storage" id="s3" style="left: 2005px; top: 755px;">
                <div class="node-icon">&#x1FAA3;</div>
                <div class="node-title">S3</div>
                <div class="node-subtitle">Object Storage</div>
                <div class="node-details">
                    <div class="node-detail-item"><span class="node-limit">Object: 5TB max</span></div>
                    <div class="node-detail-item"><span class="node-limit">Multipart: >100MB</span></div>
                </div>
            </div>

            <div class="node storage" id="ebs" style="left: 2005px; top: 655px;">
                <div class="node-icon">&#x1F4BE;</div>
                <div class="node-title">EBS</div>
                <div class="node-subtitle">Block Storage</div>
                <div class="node-details">
                    <div class="node-detail-item">gp3: 16K IOPS</div>
                    <div class="node-detail-item"><span class="node-limit">Max: 64TB</span></div>
                </div>
            </div>

            <div class="node storage" id="efs" style="left: 2005px; top: 855px;">
                <div class="node-icon">&#x1F4C2;</div>
                <div class="node-title">EFS</div>
                <div class="node-subtitle">File Storage</div>
                <div class="node-details">
                    <div class="node-detail-item">NFS v4, Linux only</div>
                </div>
            </div>

            <div class="node storage" id="glacier" style="left: 2255px; top: 655px;">
                <div class="node-icon">&#x1F9CA;</div>
                <div class="node-title">Glacier</div>
                <div class="node-subtitle">Archive</div>
                <div class="node-details">
                    <div class="node-detail-item"><span class="node-limit">Deep: 12-48 hrs</span></div>
                </div>
            </div>

            <div class="node storage" id="fsx" style="left: 2255px; top: 855px;">
                <div class="node-icon">&#x1FA9F;</div>
                <div class="node-title">FSx</div>
                <div class="node-subtitle">Managed FS</div>
                <div class="node-details">
                    <div class="node-detail-item">Windows, Lustre, NetApp</div>
                </div>
            </div>

            <div class="node storage" id="storagegateway" style="left: 2155px; top: 755px;">
                <div class="node-icon">&#x1F309;</div>
                <div class="node-title">Gateway</div>
                <div class="node-subtitle">Hybrid</div>
                <div class="node-details">
                    <div class="node-detail-item">File, Volume, Tape</div>
                </div>
            </div>

            <!-- DATABASE NODES -->
            <div class="node database" id="rds" style="left: 2005px; top: 1455px;">
                <div class="node-icon">&#x1F5C4;</div>
                <div class="node-title">RDS</div>
                <div class="node-subtitle">Relational</div>
                <div class="node-details">
                    <div class="node-detail-item">MySQL, PostgreSQL, etc</div>
                    <div class="node-detail-item"><span class="node-limit">5 read replicas</span></div>
                </div>
            </div>

            <div class="node database" id="aurora" style="left: 2005px; top: 1355px;">
                <div class="node-icon">&#x2728;</div>
                <div class="node-title">Aurora</div>
                <div class="node-subtitle">Cloud-Native</div>
                <div class="node-details">
                    <div class="node-detail-item"><span class="node-limit">15 replicas, 128TB</span></div>
                </div>
            </div>

            <div class="node database" id="dynamodb" style="left: 2005px; top: 1555px;">
                <div class="node-icon">&#x26A1;</div>
                <div class="node-title">DynamoDB</div>
                <div class="node-subtitle">NoSQL</div>
                <div class="node-details">
                    <div class="node-detail-item"><span class="node-limit">Item: 400KB max</span></div>
                </div>
            </div>

            <div class="node database" id="elasticache" style="left: 2255px; top: 1355px;">
                <div class="node-icon">&#x26A1;</div>
                <div class="node-title">ElastiCache</div>
                <div class="node-subtitle">In-Memory</div>
                <div class="node-details">
                    <div class="node-detail-item">Redis or Memcached</div>
                </div>
            </div>

            <div class="node database" id="redshift" style="left: 2255px; top: 1555px;">
                <div class="node-icon">&#x1F4CA;</div>
                <div class="node-title">Redshift</div>
                <div class="node-subtitle">Warehouse</div>
                <div class="node-details">
                    <div class="node-detail-item">Columnar, MPP</div>
                </div>
            </div>

            <div class="node database" id="documentdb" style="left: 2155px; top: 1455px;">
                <div class="node-icon">&#x1F4C4;</div>
                <div class="node-title">DocumentDB</div>
                <div class="node-subtitle">MongoDB</div>
                <div class="node-details">
                    <div class="node-detail-item">MongoDB compatible</div>
                </div>
            </div>

            <!-- NETWORK NODES -->
            <div class="node network" id="vpc" style="left: 1155px; top: 1455px;">
                <div class="node-icon">&#x1F310;</div>
                <div class="node-title">VPC</div>
                <div class="node-subtitle">Private Cloud</div>
                <div class="node-details">
                    <div class="node-detail-item"><span class="node-limit">CIDR: /16 to /28</span></div>
                </div>
            </div>

            <div class="node network" id="elb" style="left: 1155px; top: 1355px;">
                <div class="node-icon">&#x2696;</div>
                <div class="node-title">ELB</div>
                <div class="node-subtitle">Load Balancer</div>
                <div class="node-details">
                    <div class="node-detail-item">ALB (L7), NLB (L4)</div>
                </div>
            </div>

            <div class="node network" id="route53" style="left: 1155px; top: 1555px;">
                <div class="node-icon">&#x1F5FA;</div>
                <div class="node-title">Route 53</div>
                <div class="node-subtitle">DNS</div>
                <div class="node-details">
                    <div class="node-detail-item">Routing policies</div>
                </div>
            </div>

            <div class="node network" id="cloudfront" style="left: 905px; top: 1355px;">
                <div class="node-icon">&#x1F30D;</div>
                <div class="node-title">CloudFront</div>
                <div class="node-subtitle">CDN</div>
                <div class="node-details">
                    <div class="node-detail-item">Edge locations, OAC</div>
                </div>
            </div>

            <div class="node network" id="apigateway" style="left: 905px; top: 1555px;">
                <div class="node-icon">&#x1F6AA;</div>
                <div class="node-title">API GW</div>
                <div class="node-subtitle">APIs</div>
                <div class="node-details">
                    <div class="node-detail-item"><span class="node-limit">Timeout: 29s</span></div>
                </div>
            </div>

            <div class="node network" id="directconnect" style="left: 1005px; top: 1455px;">
                <div class="node-icon">&#x1F50C;</div>
                <div class="node-title">Direct Connect</div>
                <div class="node-subtitle">Dedicated</div>
                <div class="node-details">
                    <div class="node-detail-item">1Gbps or 10Gbps</div>
                </div>
            </div>

            <!-- SECURITY NODES -->
            <div class="node security" id="iam" style="left: 855px; top: 1175px;">
                <div class="node-icon">&#x1F511;</div>
                <div class="node-title">IAM</div>
                <div class="node-subtitle">Identity</div>
                <div class="node-details">
                    <div class="node-detail-item">Users, Roles, Policies</div>
                </div>
            </div>

            <div class="node security" id="kms" style="left: 705px; top: 1075px;">
                <div class="node-icon">&#x1F510;</div>
                <div class="node-title">KMS</div>
                <div class="node-subtitle">Keys</div>
                <div class="node-details">
                    <div class="node-detail-item"><span class="node-limit">Direct: 4KB max</span></div>
                </div>
            </div>

            <div class="node security" id="waf" style="left: 555px; top: 1005px;">
                <div class="node-icon">&#x1F6E1;</div>
                <div class="node-title">WAF</div>
                <div class="node-subtitle">Firewall</div>
                <div class="node-details">
                    <div class="node-detail-item">SQLi, XSS protection</div>
                </div>
            </div>

            <div class="node security" id="shield" style="left: 705px; top: 1275px;">
                <div class="node-icon">&#x1F6E1;</div>
                <div class="node-title">Shield</div>
                <div class="node-subtitle">DDoS</div>
                <div class="node-details">
                    <div class="node-detail-item"><span class="node-limit">Adv: $3000/mo</span></div>
                </div>
            </div>

            <div class="node security" id="cognito" style="left: 555px; top: 1345px;">
                <div class="node-icon">&#x1F464;</div>
                <div class="node-title">Cognito</div>
                <div class="node-subtitle">Users</div>
                <div class="node-details">
                    <div class="node-detail-item">User & Identity Pools</div>
                </div>
            </div>

            <div class="node security" id="secretsmanager" style="left: 605px; top: 1175px;">
                <div class="node-icon">&#x1F5DD;</div>
                <div class="node-title">Secrets</div>
                <div class="node-subtitle">Manager</div>
                <div class="node-details">
                    <div class="node-detail-item">Auto-rotation</div>
                </div>
            </div>

            <!-- INTEGRATION NODES -->
            <div class="node integration" id="sqs" style="left: 2305px; top: 1175px;">
                <div class="node-icon">&#x1F4EC;</div>
                <div class="node-title">SQS</div>
                <div class="node-subtitle">Queue</div>
                <div class="node-details">
                    <div class="node-detail-item"><span class="node-limit">256KB, 14 days</span></div>
                </div>
            </div>

            <div class="node integration" id="sns" style="left: 2455px; top: 1075px;">
                <div class="node-icon">&#x1F4E2;</div>
                <div class="node-title">SNS</div>
                <div class="node-subtitle">Pub/Sub</div>
                <div class="node-details">
                    <div class="node-detail-item">Fan-out pattern</div>
                </div>
            </div>

            <div class="node integration" id="eventbridge" style="left: 2605px; top: 1005px;">
                <div class="node-icon">&#x1F68C;</div>
                <div class="node-title">EventBridge</div>
                <div class="node-subtitle">Events</div>
                <div class="node-details">
                    <div class="node-detail-item">Event bus, rules</div>
                </div>
            </div>

            <div class="node integration" id="stepfunctions" style="left: 2455px; top: 1275px;">
                <div class="node-icon">&#x1F500;</div>
                <div class="node-title">Step Fn</div>
                <div class="node-subtitle">Workflow</div>
                <div class="node-details">
                    <div class="node-detail-item">Standard, Express</div>
                </div>
            </div>

            <div class="node integration" id="kinesis" style="left: 2605px; top: 1345px;">
                <div class="node-icon">&#x1F4E1;</div>
                <div class="node-title">Kinesis</div>
                <div class="node-subtitle">Streaming</div>
                <div class="node-details">
                    <div class="node-detail-item"><span class="node-limit">1-365 days</span></div>
                </div>
            </div>

            <div class="node integration" id="mq" style="left: 2405px; top: 1175px;">
                <div class="node-icon">&#x1F4E8;</div>
                <div class="node-title">MQ</div>
                <div class="node-subtitle">Broker</div>
                <div class="node-details">
                    <div class="node-detail-item">ActiveMQ, RabbitMQ</div>
                </div>
            </div>

            <!-- ANALYTICS NODES -->
            <div class="node analytics" id="athena" style="left: 1455px; top: 1755px;">
                <div class="node-icon">&#x1F50E;</div>
                <div class="node-title">Athena</div>
                <div class="node-subtitle">SQL</div>
                <div class="node-details">
                    <div class="node-detail-item"><span class="node-limit">$5/TB scanned</span></div>
                </div>
            </div>

            <div class="node analytics" id="emr" style="left: 1695px; top: 1755px;">
                <div class="node-icon">&#x1F525;</div>
                <div class="node-title">EMR</div>
                <div class="node-subtitle">Big Data</div>
                <div class="node-details">
                    <div class="node-detail-item">Spark, Hadoop</div>
                </div>
            </div>

            <div class="node analytics" id="glue" style="left: 1355px; top: 1855px;">
                <div class="node-icon">&#x1F9EA;</div>
                <div class="node-title">Glue</div>
                <div class="node-subtitle">ETL</div>
                <div class="node-details">
                    <div class="node-detail-item">Data Catalog, Crawlers</div>
                </div>
            </div>

            <div class="node analytics" id="quicksight" style="left: 1795px; top: 1855px;">
                <div class="node-icon">&#x1F4C8;</div>
                <div class="node-title">QuickSight</div>
                <div class="node-subtitle">BI</div>
                <div class="node-details">
                    <div class="node-detail-item">SPICE engine</div>
                </div>
            </div>

            <div class="node analytics" id="opensearch" style="left: 1575px; top: 1655px;">
                <div class="node-icon">&#x1F50D;</div>
                <div class="node-title">OpenSearch</div>
                <div class="node-subtitle">Search</div>
                <div class="node-details">
                    <div class="node-detail-item">Log analytics</div>
                </div>
            </div>

            <!-- MANAGEMENT NODES -->
            <div class="node management" id="cloudwatch" style="left: 1455px; top: 605px;">
                <div class="node-icon">&#x1F4CA;</div>
                <div class="node-title">CloudWatch</div>
                <div class="node-subtitle">Monitoring</div>
                <div class="node-details">
                    <div class="node-detail-item">Metrics, Logs, Alarms</div>
                </div>
            </div>

            <div class="node management" id="cloudtrail" style="left: 1695px; top: 605px;">
                <div class="node-icon">&#x1F4DD;</div>
                <div class="node-title">CloudTrail</div>
                <div class="node-subtitle">Audit</div>
                <div class="node-details">
                    <div class="node-detail-item"><span class="node-limit">90 days default</span></div>
                </div>
            </div>

            <div class="node management" id="config" style="left: 1355px; top: 505px;">
                <div class="node-icon">&#x2699;</div>
                <div class="node-title">Config</div>
                <div class="node-subtitle">Compliance</div>
                <div class="node-details">
                    <div class="node-detail-item">Config rules</div>
                </div>
            </div>

            <div class="node management" id="ssm" style="left: 1795px; top: 505px;">
                <div class="node-icon">&#x1F527;</div>
                <div class="node-title">SSM</div>
                <div class="node-subtitle">Systems Mgr</div>
                <div class="node-details">
                    <div class="node-detail-item">No SSH needed</div>
                </div>
            </div>

            <div class="node management" id="cloudformation" style="left: 1575px; top: 705px;">
                <div class="node-icon">&#x1F3D7;</div>
                <div class="node-title">CFn</div>
                <div class="node-subtitle">IaC</div>
                <div class="node-details">
                    <div class="node-detail-item">JSON/YAML templates</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Map state
        let scale = 1;
        let translateX = 0;
        let translateY = 0;
        let isDragging = false;
        let startX, startY;
        let lastTranslateX, lastTranslateY;
        let currentView = 'full';

        // Smooth animation variables
        let velocityX = 0;
        let velocityY = 0;
        let animationFrame = null;
        const friction = 0.92;
        const minVelocity = 0.1;

        const map = document.getElementById('map');
        const container = document.getElementById('mapContainer');

        // Map dimensions
        const mapWidth = 3200;
        const mapHeight = 2400;

        function updateTransform() {
            map.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
            document.getElementById('zoomLevel').textContent = `Zoom: ${Math.round(scale * 100)}%`;
        }

        function centerView() {
            const containerRect = container.getBoundingClientRect();
            scale = 0.5;
            translateX = (containerRect.width - mapWidth * scale) / 2;
            translateY = (containerRect.height - mapHeight * scale) / 2;
            updateTransform();
        }

        function zoomIn() {
            const containerRect = container.getBoundingClientRect();
            const centerX = containerRect.width / 2;
            const centerY = containerRect.height / 2;
            zoomAtPoint(1.25, centerX, centerY);
        }

        function zoomOut() {
            const containerRect = container.getBoundingClientRect();
            const centerX = containerRect.width / 2;
            const centerY = containerRect.height / 2;
            zoomAtPoint(0.8, centerX, centerY);
        }

        function zoomAtPoint(factor, pointX, pointY) {
            const newScale = Math.max(0.25, Math.min(2.5, scale * factor));
            const scaleChange = newScale / scale;

            // Adjust translation to zoom toward the point
            translateX = pointX - (pointX - translateX) * scaleChange;
            translateY = pointY - (pointY - translateY) * scaleChange;

            scale = newScale;
            updateTransform();
        }

        function setView(view) {
            currentView = view;
            document.querySelectorAll('.toggle-btn').forEach(btn => {
                btn.classList.toggle('active', btn.textContent.toLowerCase().includes(view));
            });

            document.querySelectorAll('.node-details').forEach(el => {
                el.style.display = view === 'minimal' ? 'none' : '';
            });

            document.querySelectorAll('.node-subtitle').forEach(el => {
                el.style.display = view === 'minimal' ? 'none' : '';
            });
        }

        // Momentum animation
        function animateMomentum() {
            if (Math.abs(velocityX) > minVelocity || Math.abs(velocityY) > minVelocity) {
                translateX += velocityX;
                translateY += velocityY;
                velocityX *= friction;
                velocityY *= friction;
                updateTransform();
                animationFrame = requestAnimationFrame(animateMomentum);
            }
        }

        function stopMomentum() {
            if (animationFrame) {
                cancelAnimationFrame(animationFrame);
                animationFrame = null;
            }
            velocityX = 0;
            velocityY = 0;
        }

        // Mouse events
        container.addEventListener('mousedown', (e) => {
            stopMomentum();
            isDragging = true;
            startX = e.clientX;
            startY = e.clientY;
            lastTranslateX = translateX;
            lastTranslateY = translateY;
            container.style.cursor = 'grabbing';
            e.preventDefault();
        });

        container.addEventListener('mousemove', (e) => {
            if (!isDragging) return;

            const dx = e.clientX - startX;
            const dy = e.clientY - startY;

            velocityX = (lastTranslateX + dx - translateX) * 0.3;
            velocityY = (lastTranslateY + dy - translateY) * 0.3;

            translateX = lastTranslateX + dx;
            translateY = lastTranslateY + dy;
            updateTransform();
        });

        container.addEventListener('mouseup', (e) => {
            if (isDragging) {
                isDragging = false;
                container.style.cursor = 'grab';
                animateMomentum();
            }
        });

        container.addEventListener('mouseleave', () => {
            if (isDragging) {
                isDragging = false;
                container.style.cursor = 'grab';
            }
        });

        // Wheel zoom - smooth and centered at mouse
        container.addEventListener('wheel', (e) => {
            e.preventDefault();
            stopMomentum();

            // Normalize wheel delta for consistent behavior across browsers/trackpads
            let delta = e.deltaY;

            // Detect if this is a trackpad (smaller, more frequent deltas)
            const isTrackpad = Math.abs(delta) < 50;

            // Adjust sensitivity based on input device
            const sensitivity = isTrackpad ? 0.002 : 0.001;
            const factor = 1 - delta * sensitivity;

            // Clamp the factor for smooth zooming
            const clampedFactor = Math.max(0.9, Math.min(1.1, factor));

            zoomAtPoint(clampedFactor, e.clientX, e.clientY);
        }, { passive: false });

        // Touch events for mobile
        let lastTouchDist = 0;
        let lastTouchX = 0;
        let lastTouchY = 0;
        let lastTouchTime = 0;
        let touchVelocityX = 0;
        let touchVelocityY = 0;

        container.addEventListener('touchstart', (e) => {
            stopMomentum();

            if (e.touches.length === 1) {
                isDragging = true;
                lastTouchX = e.touches[0].clientX;
                lastTouchY = e.touches[0].clientY;
                lastTouchTime = Date.now();
            } else if (e.touches.length === 2) {
                isDragging = false;
                lastTouchDist = Math.hypot(
                    e.touches[0].clientX - e.touches[1].clientX,
                    e.touches[0].clientY - e.touches[1].clientY
                );
            }
        }, { passive: true });

        container.addEventListener('touchmove', (e) => {
            e.preventDefault();

            if (e.touches.length === 1 && isDragging) {
                const currentTime = Date.now();
                const dt = Math.max(1, currentTime - lastTouchTime);

                const dx = e.touches[0].clientX - lastTouchX;
                const dy = e.touches[0].clientY - lastTouchY;

                touchVelocityX = dx / dt * 16;
                touchVelocityY = dy / dt * 16;

                translateX += dx;
                translateY += dy;

                lastTouchX = e.touches[0].clientX;
                lastTouchY = e.touches[0].clientY;
                lastTouchTime = currentTime;

                updateTransform();
            } else if (e.touches.length === 2) {
                const dist = Math.hypot(
                    e.touches[0].clientX - e.touches[1].clientX,
                    e.touches[0].clientY - e.touches[1].clientY
                );

                if (lastTouchDist > 0) {
                    const centerX = (e.touches[0].clientX + e.touches[1].clientX) / 2;
                    const centerY = (e.touches[0].clientY + e.touches[1].clientY) / 2;
                    const factor = dist / lastTouchDist;
                    zoomAtPoint(factor, centerX, centerY);
                }

                lastTouchDist = dist;
            }
        }, { passive: false });

        container.addEventListener('touchend', (e) => {
            if (e.touches.length === 0) {
                isDragging = false;
                lastTouchDist = 0;

                // Apply momentum from touch
                velocityX = touchVelocityX;
                velocityY = touchVelocityY;
                animateMomentum();
            } else if (e.touches.length === 1) {
                lastTouchX = e.touches[0].clientX;
                lastTouchY = e.touches[0].clientY;
                isDragging = true;
            }
        });

        // Node click to expand
        document.querySelectorAll('.node').forEach(node => {
            node.addEventListener('click', (e) => {
                e.stopPropagation();

                // If we were dragging, don't toggle
                if (Math.abs(velocityX) > 1 || Math.abs(velocityY) > 1) return;

                // Close other expanded nodes
                document.querySelectorAll('.node.expanded').forEach(n => {
                    if (n !== node) n.classList.remove('expanded');
                });

                node.classList.toggle('expanded');
            });
        });

        // Close expanded nodes when clicking elsewhere
        container.addEventListener('click', (e) => {
            if (e.target === container || e.target === map) {
                document.querySelectorAll('.node.expanded').forEach(n => {
                    n.classList.remove('expanded');
                });
            }
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            if (e.key === '+' || e.key === '=') zoomIn();
            if (e.key === '-') zoomOut();
            if (e.key === '0') centerView();
            if (e.key === 'Escape') {
                document.querySelectorAll('.node.expanded').forEach(n => {
                    n.classList.remove('expanded');
                });
            }
        });

        // Initial center
        window.addEventListener('load', centerView);
        window.addEventListener('resize', () => {
            // Re-center on resize
            centerView();
        });
    </script>
</body>
</html>
